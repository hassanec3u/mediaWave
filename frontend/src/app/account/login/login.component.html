<app-header></app-header>
<form [formGroup]="loginForm" (ngSubmit)="login()" class="max-w-md mx-auto p-6 bg-white shadow-lg rounded-lg">
  <h4 class="text-xl font-semibold text-gray-800 mb-6 text-center"> Se connecter</h4>

  <!-- Champs Username -->
  <mat-form-field class="w-full mb-4">
    <mat-label>Nom d'utilisateur</mat-label>
    <input matInput id="username" formControlName="username" type="text" placeholder="Votre nom d'utilisateur">
    <mat-error *ngIf="loginForm.get('username')?.hasError('required')">
      Ce champ est requis.
    </mat-error>
  </mat-form-field>


<!-- Champs Mot de passe -->
  <mat-form-field class="w-full mb-4">
    <mat-label>Mot de passe</mat-label>
    <input matInput [type]="hide ? 'password' : 'text'" formControlName="password" placeholder="Votre mot de passe">
    <button mat-icon-button matSuffix (click)="clickEvent($event)" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide">
      <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
    </button>
    <mat-error *ngIf="loginForm.get('password')?.hasError('required')">
      Ce champ est requis.
    </mat-error>
  </mat-form-field>


  <!-- Affiche les erreurs de ID/MDP -->
  <mat-error *ngIf=" loginForm.hasError('loginFailed')">
    {{ loginForm.getError('loginFailed') }}
  </mat-error>


  <!-- Bouton Register -->
  <button mat-flat-button color="primary" type="submit" class="w-full py-2 mt-2 text-white bg-blue-600 hover:bg-blue-700">
    Se connecter
  </button>

</form>
